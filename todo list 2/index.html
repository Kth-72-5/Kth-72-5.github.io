<!DOCTYPE html> <!--이 문서가 html5임을 알림-->
<head> <!--헤드 영역-->
    <meta charset="UTF-8"> <!--인코딩하는 문자코드 지정-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!--모바일을 위한 초기 화면 비율 설정-->
    <title>todoList</title>  <!--제목을 todoList로 지정한다-->
    <script> // 스크립트 영역
        document.addEventListener('DOMContentLoaded', () => {        // 이벤트를 등록한다
            const input = document.querySelector('#todo')            // todo 라는 요소를 input으로 선언한다
            const addButton = document.querySelector('#add-button')  // add-button 이라는 요소를 addButton으로 선언한다
            const todoList = document.querySelector('#todo-list')    // todo-list 라는 요소를 todoList로 선언한다
            const alert = document.querySelector('span')             // span 이라는 요소를 alert로 선언한다

      		// '+' 버튼 익명 화살표 함수 
            
            const addTodo = () => {          // addTodo 함수 선언
                if (input.value !== '') {    // 입력값이 없지 않으면
                    const item = document.createElement('div')       // 새로만든 요소인 div를 item으로 선언한다
      		    // 체크박스
                    const checkbox = document.createElement('input') // 새로만든 요소인 input을 checkbox로 선언한다
                    checkbox.type='checkbox'                         // checkbox의 속성을 checkbox로 설정한다
     		    // text
                    const text = document.createElement('span');     // 새로만든 요소인 span을 text로 선언한다
      		    // 제거하기 버튼
                    const deleteButton = document.createElement('button')   // 새로만든 요소인 button을 deleteButton으로 선언한다
                    deleteButton.textContent="제거하기"                     // deleteButton에 제거하기 라고 쓴다

                    text.textContent = input.value                          // text에 input의 값을 쓴다
                    input.value=''                                          // input의 값을 초기화 한다
                
                    item.appendChild(checkbox)                              // checkbox를 item의 자식노드로 지정한다
                    item.appendChild(text)                                  // text를 item의 자식노드로 지정한다
                    item.appendChild(deleteButton)                          // deleteButton을 item의 자식노드로 지정한다
                    todoList.appendChild(item)                              // item을 todoList의 자식노드로 지정한다

			// 체크박스 이벤트 리스너
                    checkbox.addEventListener('change', (event) =>{         // 체크박스가 변경되면
                        if (event.currentTarget.checked)                    // 만약 체크박스가 체크되어 있으면
                        {                                                   // VVV
                            text.style.textDecoration='line-through'        // text의 글자에 선을 긋고
                        }                                                   //
                        else {                                              // 아니라면
                            text.style.textDecoration='none'                // text의 글자에 장식하지않는다 (선긋지 않는다)
                        }
                    })

      		    // 제거하기 버튼 클릭 이벤트 리스너
                    deleteButton.addEventListener('click', (event) => {         // 제거하기 버튼이 클릭되면
                        todoList.removeChild(event.currentTarget.parentNode)    // 제거하기 버튼이 있는 todoList의 자식노드를 삭제한다
                    })
                    input.value =''                                             // 입력값 초기화
                    alert.textContent = ''                                      // alert의 글자내용을 초기화
                }
                else
                    alert.textContent = '할 일을 입력하세요!'                    // alert에 할 일을 입력하세요 라고 적는다
            }

            addButton.addEventListener('click', addTodo)                        // 추가버튼이 눌리면 addTodo 함수 실행
      
      		// 할 일 입력창에서 enter key가 눌렸을 때
            input.addEventListener('keypress', (event) => {
                const ENTER = 13                                // ENTER에 13 이라는 값을 지정
                if (event.keyCode === ENTER)                    // event의 keyCode가 ENTER(13)과 같으면
                    addTodo();                                  // addTodo 함수를 실행
            })
        })
    </script>  <!--스크립트 영역 끝-->
    <style>   /*스타일 영역*/
        .background{     /*배경요소 설정*/
            width: 700px;   /*너비를 700px로 지정*/
            height: 1000px; /*높이를 700px로 지정*/
            background-image: url('./page2.png'); /*배경이미지를 로드한다*/
            background-size: cover; /*배경의 크기를 너비와 높이만큼만 나오게 한다*/
            background-position:center; /*배경의 위치를 중앙으로 설정한다*/
            background-repeat: repeat-y; /*배경이미지를 세로로 반복한다*/
            position: relative; /*위치기준을 자신으로 한다*/
            
        }
        .contents{  /*내용요소 설정*/
            position: absolute; /*위치기준을 부모노드로 한다*/
            left: 100px;   /*왼쪽으로부터 100px의 간격을 둔다*/
            z-index: 1; /*배경요소보다 앞에 있게 한다*/
        }

    </style> <!--스타일 영역 끝-->

</head> <!--헤드 영역 끝-->
<body>  <!--바디 영역-->
    <div class="background"> <!--배경요소를 구분해준다-->
        <div class="contents">  <!--내용요소를 구분해준다-->
            <h1>할 일 목록</h1> <!--할 일 목록 이라고 쓴다-->
            <span></span><br>  <!--span요소를 구분하고 줄을 바꾼다-->
            <input id="todo">   <!--입력요소를 만들고 id를 todo로 지정한다-->
            <button id="add-button">+</button>  <!--버튼요소를 만들고 id를 add-button으로 지정한 후에 + 를 쓴다-->
            <div id="todo-list"></div>  <!--새 요소를 만들고 id를 todo-list로 지정한다-->
        </div> <!--내용요소 구분 끝-->
    </div>  <!--배경요소 구분 끝-->
</body> <!--바디 영역 끝-->
</html> <!--html 문서가 끝났다-->